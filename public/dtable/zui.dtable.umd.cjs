var fs=Object.defineProperty;var _s=(A,S,k)=>S in A?fs(A,S,{enumerable:!0,configurable:!0,writable:!0,value:k}):A[S]=k;var W=(A,S,k)=>(_s(A,typeof S!="symbol"?S+"":S,k),k),Nt=(A,S,k)=>{if(!S.has(A))throw TypeError("Cannot "+k)};var p=(A,S,k)=>(Nt(A,S,"read from private field"),k?k.call(A):S.get(A)),R=(A,S,k)=>{if(S.has(A))throw TypeError("Cannot add the same private member more than once");S instanceof WeakSet?S.add(A):S.set(A,k)},N=(A,S,k,ve)=>(Nt(A,S,"write to private field"),ve?ve.call(A,k):S.set(A,k),k);var z=(A,S,k)=>(Nt(A,S,"access private method"),k);(function(A,S){typeof exports=="object"&&typeof module<"u"?S(exports):typeof define=="function"&&define.amd?define(["exports"],S):(A=typeof globalThis<"u"?globalThis:A||self,S(A.zui={}))})(this,function(A){var G,K,Me,re,Ie,Jn,q,ue,U,ie,le,Ze,ce,de,oe,B,se,j,F,V,pe,Ae,Ne,Y,ge,ye,et,co,tt,ao,nt,ho,ot,fo,He,Ht,st,rt,Te,Pe,it,lt,ct,_o,at,uo,ht,po;"use strict";var S,k,ve,Tt,me,Pt,ze={},Lt=[],go=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Z(t,n){for(var e in n)t[e]=n[e];return t}function Dt(t){var n=t.parentNode;n&&n.removeChild(t)}function Wt(t,n,e){var o,r,s,l={};for(s in n)s=="key"?o=n[s]:s=="ref"?r=n[s]:l[s]=n[s];if(arguments.length>2&&(l.children=arguments.length>3?S.call(arguments,2):e),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)l[s]===void 0&&(l[s]=t.defaultProps[s]);return Oe(t,l,o,r,null)}function Oe(t,n,e,o,r){var s={type:t,props:n,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++ve};return r==null&&k.vnode!=null&&k.vnode(s),s}function yo(){return{current:null}}function Ue(t){return t.children}function Fe(t,n){this.props=t,this.context=n}function be(t,n){if(n==null)return t.__?be(t.__,t.__.__k.indexOf(t)+1):null;for(var e;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null)return e.__e;return typeof t.type=="function"?be(t):null}function jt(t){var n,e;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null){t.__e=t.__c.base=e.__e;break}return jt(t)}}function It(t){(!t.__d&&(t.__d=!0)&&me.push(t)&&!Be.__r++||Pt!==k.debounceRendering)&&((Pt=k.debounceRendering)||setTimeout)(Be)}function Be(){for(var t;Be.__r=me.length;)t=me.sort(function(n,e){return n.__v.__b-e.__v.__b}),me=[],t.some(function(n){var e,o,r,s,l,a;n.__d&&(l=(s=(e=n).__v).__e,(a=e.__P)&&(o=[],(r=Z({},s)).__v=s.__v+1,_t(a,s,r,e.__n,a.ownerSVGElement!==void 0,s.__h!=null?[l]:null,o,l??be(s),s.__h),Gt(o,s),s.__e!=l&&jt(s)))})}function zt(t,n,e,o,r,s,l,a,h,u){var i,d,f,c,_,v,y,g=o&&o.__k||Lt,b=g.length;for(e.__k=[],i=0;i<n.length;i++)if((c=e.__k[i]=(c=n[i])==null||typeof c=="boolean"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?Oe(null,c,null,null,c):Array.isArray(c)?Oe(Ue,{children:c},null,null,null):c.__b>0?Oe(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c)!=null){if(c.__=e,c.__b=e.__b+1,(f=g[i])===null||f&&c.key==f.key&&c.type===f.type)g[i]=void 0;else for(d=0;d<b;d++){if((f=g[d])&&c.key==f.key&&c.type===f.type){g[d]=void 0;break}f=null}_t(t,c,f=f||ze,r,s,l,a,h,u),_=c.__e,(d=c.ref)&&f.ref!=d&&(y||(y=[]),f.ref&&y.push(f.ref,null,c),y.push(d,c.__c||_,c)),_!=null?(v==null&&(v=_),typeof c.type=="function"&&c.__k===f.__k?c.__d=h=Ot(c,h,t):h=Ut(t,c,f,g,_,h),typeof e.type=="function"&&(e.__d=h)):h&&f.__e==h&&h.parentNode!=t&&(h=be(f))}for(e.__e=v,i=b;i--;)g[i]!=null&&qt(g[i],g[i]);if(y)for(i=0;i<y.length;i++)Kt(y[i],y[++i],y[++i])}function Ot(t,n,e){for(var o,r=t.__k,s=0;r&&s<r.length;s++)(o=r[s])&&(o.__=t,n=typeof o.type=="function"?Ot(o,n,e):Ut(e,o,o,r,o.__e,n));return n}function Ut(t,n,e,o,r,s){var l,a,h;if(n.__d!==void 0)l=n.__d,n.__d=void 0;else if(e==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(r),l=null;else{for(a=s,h=0;(a=a.nextSibling)&&h<o.length;h+=2)if(a==r)break e;t.insertBefore(r,s),l=s}return l!==void 0?l:r.nextSibling}function vo(t,n,e,o,r){var s;for(s in e)s==="children"||s==="key"||s in n||Ve(t,s,null,e[s],o);for(s in n)r&&typeof n[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||e[s]===n[s]||Ve(t,s,n[s],e[s],o)}function Ft(t,n,e){n[0]==="-"?t.setProperty(n,e):t[n]=e==null?"":typeof e!="number"||go.test(n)?e:e+"px"}function Ve(t,n,e,o,r){var s;e:if(n==="style")if(typeof e=="string")t.style.cssText=e;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(n in o)e&&n in e||Ft(t.style,n,"");if(e)for(n in e)o&&e[n]===o[n]||Ft(t.style,n,e[n])}else if(n[0]==="o"&&n[1]==="n")s=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in t?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+s]=e,e?o||t.addEventListener(n,s?Vt:Bt,s):t.removeEventListener(n,s?Vt:Bt,s);else if(n!=="dangerouslySetInnerHTML"){if(r)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in t)try{t[n]=e??"";break e}catch{}typeof e=="function"||(e==null||e===!1&&n.indexOf("-")==-1?t.removeAttribute(n):t.setAttribute(n,e))}}function Bt(t){this.l[t.type+!1](k.event?k.event(t):t)}function Vt(t){this.l[t.type+!0](k.event?k.event(t):t)}function _t(t,n,e,o,r,s,l,a,h){var u,i,d,f,c,_,v,y,g,b,x,$,I,M,H,w=n.type;if(n.constructor!==void 0)return null;e.__h!=null&&(h=e.__h,a=n.__e=e.__e,n.__h=null,s=[a]),(u=k.__b)&&u(n);try{e:if(typeof w=="function"){if(y=n.props,g=(u=w.contextType)&&o[u.__c],b=u?g?g.props.value:u.__:o,e.__c?v=(i=n.__c=e.__c).__=i.__E:("prototype"in w&&w.prototype.render?n.__c=i=new w(y,b):(n.__c=i=new Fe(y,b),i.constructor=w,i.render=bo),g&&g.sub(i),i.props=y,i.state||(i.state={}),i.context=b,i.__n=o,d=i.__d=!0,i.__h=[],i._sb=[]),i.__s==null&&(i.__s=i.state),w.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=Z({},i.__s)),Z(i.__s,w.getDerivedStateFromProps(y,i.__s))),f=i.props,c=i.state,d)w.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(w.getDerivedStateFromProps==null&&y!==f&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(y,b),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(y,i.__s,b)===!1||n.__v===e.__v){for(i.props=y,i.state=i.__s,n.__v!==e.__v&&(i.__d=!1),i.__v=n,n.__e=e.__e,n.__k=e.__k,n.__k.forEach(function(m){m&&(m.__=n)}),x=0;x<i._sb.length;x++)i.__h.push(i._sb[x]);i._sb=[],i.__h.length&&l.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(y,i.__s,b),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(f,c,_)})}if(i.context=b,i.props=y,i.__v=n,i.__P=t,$=k.__r,I=0,"prototype"in w&&w.prototype.render){for(i.state=i.__s,i.__d=!1,$&&$(n),u=i.render(i.props,i.state,i.context),M=0;M<i._sb.length;M++)i.__h.push(i._sb[M]);i._sb=[]}else do i.__d=!1,$&&$(n),u=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++I<25);i.state=i.__s,i.getChildContext!=null&&(o=Z(Z({},o),i.getChildContext())),d||i.getSnapshotBeforeUpdate==null||(_=i.getSnapshotBeforeUpdate(f,c)),H=u!=null&&u.type===Ue&&u.key==null?u.props.children:u,zt(t,Array.isArray(H)?H:[H],n,e,o,r,s,l,a,h),i.base=n.__e,n.__h=null,i.__h.length&&l.push(i),v&&(i.__E=i.__=null),i.__e=!1}else s==null&&n.__v===e.__v?(n.__k=e.__k,n.__e=e.__e):n.__e=mo(e.__e,n,e,o,r,s,l,h);(u=k.diffed)&&u(n)}catch(m){n.__v=null,(h||s!=null)&&(n.__e=a,n.__h=!!h,s[s.indexOf(a)]=null),k.__e(m,n,e)}}function Gt(t,n){k.__c&&k.__c(n,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(o){o.call(e)})}catch(o){k.__e(o,e.__v)}})}function mo(t,n,e,o,r,s,l,a){var h,u,i,d=e.props,f=n.props,c=n.type,_=0;if(c==="svg"&&(r=!0),s!=null){for(;_<s.length;_++)if((h=s[_])&&"setAttribute"in h==!!c&&(c?h.localName===c:h.nodeType===3)){t=h,s[_]=null;break}}if(t==null){if(c===null)return document.createTextNode(f);t=r?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,f.is&&f),s=null,a=!1}if(c===null)d===f||a&&t.data===f||(t.data=f);else{if(s=s&&S.call(t.childNodes),u=(d=e.props||ze).dangerouslySetInnerHTML,i=f.dangerouslySetInnerHTML,!a){if(s!=null)for(d={},_=0;_<t.attributes.length;_++)d[t.attributes[_].name]=t.attributes[_].value;(i||u)&&(i&&(u&&i.__html==u.__html||i.__html===t.innerHTML)||(t.innerHTML=i&&i.__html||""))}if(vo(t,f,d,r,a),i)n.__k=[];else if(_=n.props.children,zt(t,Array.isArray(_)?_:[_],n,e,o,r&&c!=="foreignObject",s,l,s?s[0]:e.__k&&be(e,0),a),s!=null)for(_=s.length;_--;)s[_]!=null&&Dt(s[_]);a||("value"in f&&(_=f.value)!==void 0&&(_!==t.value||c==="progress"&&!_||c==="option"&&_!==d.value)&&Ve(t,"value",_,d.value,!1),"checked"in f&&(_=f.checked)!==void 0&&_!==t.checked&&Ve(t,"checked",_,d.checked,!1))}return t}function Kt(t,n,e){try{typeof t=="function"?t(n):t.current=n}catch(o){k.__e(o,e)}}function qt(t,n,e){var o,r;if(k.unmount&&k.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Kt(o,null,n)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){k.__e(s,n)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&qt(o[r],n,e||typeof t.type!="function");e||t.__e==null||Dt(t.__e),t.__=t.__e=t.__d=void 0}function bo(t,n,e){return this.constructor(t,e)}function wo(t,n,e){var o,r,s;k.__&&k.__(t,n),r=(o=typeof e=="function")?null:e&&e.__k||n.__k,s=[],_t(n,t=(!o&&e||n).__k=Wt(Ue,null,[t]),r||ze,ze,n.ownerSVGElement!==void 0,!o&&e?[e]:r?null:n.firstChild?S.call(n.childNodes):null,s,!o&&e?e:r?r.__e:n.firstChild,o),Gt(s,t)}S=Lt.slice,k={__e:function(t,n,e,o){for(var r,s,l;n=n.__;)if((r=n.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),l=r.__d),l)return r.__E=r}catch(a){t=a}throw t}},ve=0,Tt=function(t){return t!=null&&t.constructor===void 0},Fe.prototype.setState=function(t,n){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Z({},this.state),typeof t=="function"&&(t=t(Z({},e),this.props)),t&&Z(e,t),t!=null&&this.__v&&(n&&this._sb.push(n),It(this))},Fe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),It(this))},Fe.prototype.render=Ue,me=[],Be.__r=0;var ko=0;function Yt(t,n,e,o,r){var s,l,a={};for(l in n)l=="ref"?s=n[l]:a[l]=n[l];var h={type:t,props:a,key:e,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ko,__source:r,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(l in s)a[l]===void 0&&(a[l]=s[l]);return k.vnode&&k.vnode(h),h}class Co{constructor(n=""){R(this,G,void 0);typeof n=="object"?N(this,G,n):N(this,G,document.appendChild(document.createComment(n)))}on(n,e,o){p(this,G).addEventListener(n,e,o)}once(n,e,o){p(this,G).addEventListener(n,e,{once:!0,...o})}off(n,e,o){p(this,G).removeEventListener(n,e,o)}emit(n){return p(this,G).dispatchEvent(n),n}}G=new WeakMap;const ut=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);class dt extends Co{on(n,e,o){super.on(n,e,o)}off(n,e,o){super.off(n,e,o)}once(n,e,o){super.once(n,e,o)}emit(n,e){return typeof n=="string"&&(ut.has(n)?(n=new Event(n),Object.assign(n,{detail:e})):n=new CustomEvent(n,{detail:e})),super.emit(dt.createEvent(n,e))}static createEvent(n,e){return typeof n=="string"&&(ut.has(n)?(n=new Event(n),Object.assign(n,{detail:e})):n=new CustomEvent(n,{detail:e})),n}}class Xt extends dt{constructor(e="",o){super(e);R(this,re);R(this,K,new Map);R(this,Me,void 0);N(this,Me,o==null?void 0:o.customEventSuffix)}on(e,o,r){e=z(this,re,Ie).call(this,e),super.on(e,o,r),p(this,K).set(o,[e,r])}off(e,o,r){e=z(this,re,Ie).call(this,e),super.off(e,o,r),p(this,K).delete(o)}once(e,o,r){e=z(this,re,Ie).call(this,e);const s=l=>{o(l),p(this,K).delete(s)};super.once(e,s,r),p(this,K).set(s,[e,r])}emit(e,o){return typeof e=="string"&&(e=z(this,re,Ie).call(this,e)),super.emit(e,o)}offAll(){Array.from(p(this,K).entries()).forEach(([e,[o,r]])=>{super.off(o,e,r)}),p(this,K).clear()}}K=new WeakMap,Me=new WeakMap,re=new WeakSet,Ie=function(e){const o=p(this,Me);return ut.has(e)||typeof o!="string"||e.endsWith(o)?e:`${e}${o}`};function xo(t,n){if(t==null)return[t,void 0];typeof n=="string"&&(n=n.split("."));const e=n.join(".");let o=t;const r=[o];for(;typeof o=="object"&&o!==null&&n.length;){let s=n.shift(),l;const a=s.indexOf("[");if(a>0&&a<s.length-1&&s.endsWith("]")&&(l=s.substring(a+1,s.length-1),s=s.substring(0,a)),o=o[s],r.push(o),l!==void 0)if(typeof o=="object"&&o!==null)o instanceof Map?o=o.get(l):o=o[l],r.push(o);else throw new Error(`Cannot access property "${s}[${l}]", the full path is "${e}".`)}if(n.length)throw new Error(`Cannot access property with rest path "${n.join(".")}", the full path is "${e}".`);return r}function Eo(t,n,e){const o=xo(t,n),r=o[o.length-1];return r===void 0?e:r}function pt(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function gt(t,...n){if(!n.length)return t;const e=n.shift();if(pt(t)&&pt(e))for(const o in e)pt(e[o])?(t[o]||Object.assign(t,{[o]:{}}),gt(t[o],e[o])):Object.assign(t,{[o]:e[o]});return gt(t,...n)}function we(t,...n){if(n.length===0)return t;if(n.length===1&&typeof n[0]=="object"&&n[0]){const e=n[0];return Object.keys(e).forEach(o=>{const r=e[o]??0;t=t.replace(new RegExp(`\\{${o}\\}`,"g"),`${r}`)}),t}for(let e=0;e<n.length;e++){const o=n[e]??"";t=t.replace(new RegExp(`\\{${e}\\}`,"g"),`${o}`)}return t}let yt=((Jn=document.documentElement.getAttribute("lang"))==null?void 0:Jn.toLowerCase())??"zh_cn",ee;function Ro(){return yt}function $o(t){yt=t.toLowerCase()}function So(t,n){ee||(ee={}),typeof t=="string"&&(t={[t]:n??{}}),gt(ee,t)}function ke(t,n,e,o,r,s){Array.isArray(t)?ee&&t.unshift(ee):t=ee?[ee,t]:[t],typeof e=="string"&&(s=r,r=o,o=e,e=void 0);const l=r||yt;let a;for(const h of t){if(!h)continue;const u=h[l];if(!u)continue;const i=s&&h===ee?`${s}.${n}`:n;if(a=Eo(u,i),a!==void 0)break}return a===void 0?o:e?we(a,...Array.isArray(e)?e:[e]):a}ke.addLang=So,ke.getCode=Ro,ke.setCode=$o;function Mo(t){return Object.fromEntries(Object.entries(t).map(([n,e])=>{if(typeof e=="string")try{e=JSON.parse(e)}catch{}return[n,e]}))}const vt=new Map;class mt{constructor(n,e){R(this,q,void 0);R(this,ue,void 0);R(this,U,void 0);n=typeof n=="string"?document.querySelector(n):n,this.constructor.EVENTS&&N(this,U,new Xt(n,{customEventSuffix:`.${this.constructor.KEY}`})),N(this,q,{...this.constructor.DEFAULT}),this.setOptions({...n instanceof HTMLElement?Mo(n.dataset):null,...e}),this.constructor.all.set(n,this),N(this,ue,n),this.init(),requestAnimationFrame(()=>{this.afterInit(),this.emit("inited",this)})}get options(){return p(this,q)}get element(){return p(this,ue)}get events(){return p(this,U)}init(){}afterInit(){}setOptions(n){return n&&Object.assign(p(this,q),n),p(this,q)}render(n){this.setOptions(n)}destroy(){this.constructor.all.delete(p(this,ue)),p(this,U)&&(this.emit("destroyed",this),p(this,U).offAll())}on(n,e,o){var r;(r=p(this,U))==null||r.on(n,e,o)}once(n,e,o){var r;(r=p(this,U))==null||r.once(n,e,o)}off(n,e,o){var r;(r=p(this,U))==null||r.off(n,e,o)}emit(n,e){var l;let o=Xt.createEvent(n,e);const r=`on${n[0].toUpperCase()}${n.substring(1)}`,s=p(this,q)[r];return s&&s(o)===!1&&(o.preventDefault(),o.stopPropagation()),o=(l=p(this,U))==null?void 0:l.emit(n,e),o}i18n(n,e,o){return ke(p(this,q).i18n,n,e,o,this.options.lang,this.constructor.NAME)??`{i18n:${n}}`}static get NAME(){throw new Error(`static NAME should be override in class ${this.name}`)}static get KEY(){return`zui.${this.NAME}`}static get all(){const n=this.NAME;if(vt.has(n))return vt.get(n);const e=new Map;return vt.set(n,e),e}static getAll(){return this.all}static get(n){return this.all.get(n)}static ensure(n,e){return this.get(n)||new this(n,e)}}q=new WeakMap,ue=new WeakMap,U=new WeakMap,W(mt,"EVENTS",!1),W(mt,"DEFAULT",{});class Jt extends mt{constructor(){super(...arguments);W(this,"ref",yo())}get $(){return this.ref.current}init(){requestAnimationFrame(()=>this.render())}destroy(){super.destroy(),this.element.innerHTML=""}render(e){const o=this.constructor.Component;wo(Yt(o,{ref:this.ref,...this.setOptions(e)}),this.element)}}W(Jt,"Component");var bt,P,Qt,Zt,Ce,en,tn={},nn=[],Ao=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function te(t,n){for(var e in n)t[e]=n[e];return t}function on(t){var n=t.parentNode;n&&n.removeChild(t)}function wt(t,n,e){var o,r,s,l={};for(s in n)s=="key"?o=n[s]:s=="ref"?r=n[s]:l[s]=n[s];if(arguments.length>2&&(l.children=arguments.length>3?bt.call(arguments,2):e),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)l[s]===void 0&&(l[s]=t.defaultProps[s]);return Ge(t,l,o,r,null)}function Ge(t,n,e,o,r){var s={type:t,props:n,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++Qt};return r==null&&P.vnode!=null&&P.vnode(s),s}function No(){return{current:null}}function kt(t){return t.children}function xe(t,n){this.props=t,this.context=n}function Ee(t,n){if(n==null)return t.__?Ee(t.__,t.__.__k.indexOf(t)+1):null;for(var e;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null)return e.__e;return typeof t.type=="function"?Ee(t):null}function sn(t){var n,e;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null){t.__e=t.__c.base=e.__e;break}return sn(t)}}function rn(t){(!t.__d&&(t.__d=!0)&&Ce.push(t)&&!Ke.__r++||en!==P.debounceRendering)&&((en=P.debounceRendering)||setTimeout)(Ke)}function Ke(){for(var t;Ke.__r=Ce.length;)t=Ce.sort(function(n,e){return n.__v.__b-e.__v.__b}),Ce=[],t.some(function(n){var e,o,r,s,l,a;n.__d&&(l=(s=(e=n).__v).__e,(a=e.__P)&&(o=[],(r=te({},s)).__v=s.__v+1,un(a,s,r,e.__n,a.ownerSVGElement!==void 0,s.__h!=null?[l]:null,o,l??Ee(s),s.__h),To(o,s),s.__e!=l&&sn(s)))})}function ln(t,n,e,o,r,s,l,a,h,u){var i,d,f,c,_,v,y,g=o&&o.__k||nn,b=g.length;for(e.__k=[],i=0;i<n.length;i++)if((c=e.__k[i]=(c=n[i])==null||typeof c=="boolean"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?Ge(null,c,null,null,c):Array.isArray(c)?Ge(kt,{children:c},null,null,null):c.__b>0?Ge(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c)!=null){if(c.__=e,c.__b=e.__b+1,(f=g[i])===null||f&&c.key==f.key&&c.type===f.type)g[i]=void 0;else for(d=0;d<b;d++){if((f=g[d])&&c.key==f.key&&c.type===f.type){g[d]=void 0;break}f=null}un(t,c,f=f||tn,r,s,l,a,h,u),_=c.__e,(d=c.ref)&&f.ref!=d&&(y||(y=[]),f.ref&&y.push(f.ref,null,c),y.push(d,c.__c||_,c)),_!=null?(v==null&&(v=_),typeof c.type=="function"&&c.__k===f.__k?c.__d=h=cn(c,h,t):h=an(t,c,f,g,_,h),typeof e.type=="function"&&(e.__d=h)):h&&f.__e==h&&h.parentNode!=t&&(h=Ee(f))}for(e.__e=v,i=b;i--;)g[i]!=null&&pn(g[i],g[i]);if(y)for(i=0;i<y.length;i++)dn(y[i],y[++i],y[++i])}function cn(t,n,e){for(var o,r=t.__k,s=0;r&&s<r.length;s++)(o=r[s])&&(o.__=t,n=typeof o.type=="function"?cn(o,n,e):an(e,o,o,r,o.__e,n));return n}function an(t,n,e,o,r,s){var l,a,h;if(n.__d!==void 0)l=n.__d,n.__d=void 0;else if(e==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(r),l=null;else{for(a=s,h=0;(a=a.nextSibling)&&h<o.length;h+=2)if(a==r)break e;t.insertBefore(r,s),l=s}return l!==void 0?l:r.nextSibling}function Ho(t,n,e,o,r){var s;for(s in e)s==="children"||s==="key"||s in n||qe(t,s,null,e[s],o);for(s in n)r&&typeof n[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||e[s]===n[s]||qe(t,s,n[s],e[s],o)}function hn(t,n,e){n[0]==="-"?t.setProperty(n,e):t[n]=e==null?"":typeof e!="number"||Ao.test(n)?e:e+"px"}function qe(t,n,e,o,r){var s;e:if(n==="style")if(typeof e=="string")t.style.cssText=e;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(n in o)e&&n in e||hn(t.style,n,"");if(e)for(n in e)o&&e[n]===o[n]||hn(t.style,n,e[n])}else if(n[0]==="o"&&n[1]==="n")s=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in t?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+s]=e,e?o||t.addEventListener(n,s?_n:fn,s):t.removeEventListener(n,s?_n:fn,s);else if(n!=="dangerouslySetInnerHTML"){if(r)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in t)try{t[n]=e??"";break e}catch{}typeof e=="function"||(e==null||e===!1&&n.indexOf("-")==-1?t.removeAttribute(n):t.setAttribute(n,e))}}function fn(t){this.l[t.type+!1](P.event?P.event(t):t)}function _n(t){this.l[t.type+!0](P.event?P.event(t):t)}function un(t,n,e,o,r,s,l,a,h){var u,i,d,f,c,_,v,y,g,b,x,$,I,M,H,w=n.type;if(n.constructor!==void 0)return null;e.__h!=null&&(h=e.__h,a=n.__e=e.__e,n.__h=null,s=[a]),(u=P.__b)&&u(n);try{e:if(typeof w=="function"){if(y=n.props,g=(u=w.contextType)&&o[u.__c],b=u?g?g.props.value:u.__:o,e.__c?v=(i=n.__c=e.__c).__=i.__E:("prototype"in w&&w.prototype.render?n.__c=i=new w(y,b):(n.__c=i=new xe(y,b),i.constructor=w,i.render=Lo),g&&g.sub(i),i.props=y,i.state||(i.state={}),i.context=b,i.__n=o,d=i.__d=!0,i.__h=[],i._sb=[]),i.__s==null&&(i.__s=i.state),w.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=te({},i.__s)),te(i.__s,w.getDerivedStateFromProps(y,i.__s))),f=i.props,c=i.state,d)w.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(w.getDerivedStateFromProps==null&&y!==f&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(y,b),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(y,i.__s,b)===!1||n.__v===e.__v){for(i.props=y,i.state=i.__s,n.__v!==e.__v&&(i.__d=!1),i.__v=n,n.__e=e.__e,n.__k=e.__k,n.__k.forEach(function(m){m&&(m.__=n)}),x=0;x<i._sb.length;x++)i.__h.push(i._sb[x]);i._sb=[],i.__h.length&&l.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(y,i.__s,b),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(f,c,_)})}if(i.context=b,i.props=y,i.__v=n,i.__P=t,$=P.__r,I=0,"prototype"in w&&w.prototype.render){for(i.state=i.__s,i.__d=!1,$&&$(n),u=i.render(i.props,i.state,i.context),M=0;M<i._sb.length;M++)i.__h.push(i._sb[M]);i._sb=[]}else do i.__d=!1,$&&$(n),u=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++I<25);i.state=i.__s,i.getChildContext!=null&&(o=te(te({},o),i.getChildContext())),d||i.getSnapshotBeforeUpdate==null||(_=i.getSnapshotBeforeUpdate(f,c)),H=u!=null&&u.type===kt&&u.key==null?u.props.children:u,ln(t,Array.isArray(H)?H:[H],n,e,o,r,s,l,a,h),i.base=n.__e,n.__h=null,i.__h.length&&l.push(i),v&&(i.__E=i.__=null),i.__e=!1}else s==null&&n.__v===e.__v?(n.__k=e.__k,n.__e=e.__e):n.__e=Po(e.__e,n,e,o,r,s,l,h);(u=P.diffed)&&u(n)}catch(m){n.__v=null,(h||s!=null)&&(n.__e=a,n.__h=!!h,s[s.indexOf(a)]=null),P.__e(m,n,e)}}function To(t,n){P.__c&&P.__c(n,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(o){o.call(e)})}catch(o){P.__e(o,e.__v)}})}function Po(t,n,e,o,r,s,l,a){var h,u,i,d=e.props,f=n.props,c=n.type,_=0;if(c==="svg"&&(r=!0),s!=null){for(;_<s.length;_++)if((h=s[_])&&"setAttribute"in h==!!c&&(c?h.localName===c:h.nodeType===3)){t=h,s[_]=null;break}}if(t==null){if(c===null)return document.createTextNode(f);t=r?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,f.is&&f),s=null,a=!1}if(c===null)d===f||a&&t.data===f||(t.data=f);else{if(s=s&&bt.call(t.childNodes),u=(d=e.props||tn).dangerouslySetInnerHTML,i=f.dangerouslySetInnerHTML,!a){if(s!=null)for(d={},_=0;_<t.attributes.length;_++)d[t.attributes[_].name]=t.attributes[_].value;(i||u)&&(i&&(u&&i.__html==u.__html||i.__html===t.innerHTML)||(t.innerHTML=i&&i.__html||""))}if(Ho(t,f,d,r,a),i)n.__k=[];else if(_=n.props.children,ln(t,Array.isArray(_)?_:[_],n,e,o,r&&c!=="foreignObject",s,l,s?s[0]:e.__k&&Ee(e,0),a),s!=null)for(_=s.length;_--;)s[_]!=null&&on(s[_]);a||("value"in f&&(_=f.value)!==void 0&&(_!==t.value||c==="progress"&&!_||c==="option"&&_!==d.value)&&qe(t,"value",_,d.value,!1),"checked"in f&&(_=f.checked)!==void 0&&_!==t.checked&&qe(t,"checked",_,d.checked,!1))}return t}function dn(t,n,e){try{typeof t=="function"?t(n):t.current=n}catch(o){P.__e(o,e)}}function pn(t,n,e){var o,r;if(P.unmount&&P.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||dn(o,null,n)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){P.__e(s,n)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&pn(o[r],n,e||typeof t.type!="function");e||t.__e==null||on(t.__e),t.__=t.__e=t.__d=void 0}function Lo(t,n,e){return this.constructor(t,e)}bt=nn.slice,P={__e:function(t,n,e,o){for(var r,s,l;n=n.__;)if((r=n.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),l=r.__d),l)return r.__E=r}catch(a){t=a}throw t}},Qt=0,Zt=function(t){return t!=null&&t.constructor===void 0},xe.prototype.setState=function(t,n){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=te({},this.state),typeof t=="function"&&(t=t(te({},e),this.props)),t&&te(e,t),t!=null&&this.__v&&(n&&this._sb.push(n),rn(this))},xe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),rn(this))},xe.prototype.render=kt,Ce=[],Ke.__r=0;var Do=0;function C(t,n,e,o,r){var s,l,a={};for(l in n)l=="ref"?s=n[l]:a[l]=n[l];var h={type:t,props:a,key:e,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Do,__source:r,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(l in s)a[l]===void 0&&(a[l]=s[l]);return P.vnode&&P.vnode(h),h}let Wo=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((n,e)=>(e&=63,e<36?n+=e.toString(36):e<62?n+=(e-26).toString(36).toUpperCase():e>62?n+="-":n+="_",n),"");function gn(...t){const n=[],e=new Map,o=(r,s)=>{if(Array.isArray(r)&&(s=r[1],r=r[0]),!r.length)return;const l=e.get(r);typeof l=="number"?n[l][1]=!!s:(e.set(r,n.length),n.push([r,!!s]))};return t.forEach(r=>{typeof r=="function"&&(r=r()),Array.isArray(r)?gn(...r).forEach(o):r&&typeof r=="object"?Object.entries(r).forEach(o):typeof r=="string"&&r.split(" ").forEach(s=>o(s,!0))}),n.sort((r,s)=>(e.get(r[0])||0)-(e.get(s[0])||0))}const O=(...t)=>gn(...t).reduce((n,[e,o])=>(o&&n.push(e),n),[]).join(" ");var yn,L,vn,Re,mn,bn={},wn=[],jo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ne(t,n){for(var e in n)t[e]=n[e];return t}function kn(t){var n=t.parentNode;n&&n.removeChild(t)}function Ct(t,n,e,o,r){var s={type:t,props:n,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++vn};return r==null&&L.vnode!=null&&L.vnode(s),s}function xt(t){return t.children}function $e(t,n){this.props=t,this.context=n}function Se(t,n){if(n==null)return t.__?Se(t.__,t.__.__k.indexOf(t)+1):null;for(var e;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null)return e.__e;return typeof t.type=="function"?Se(t):null}function Cn(t){var n,e;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if((e=t.__k[n])!=null&&e.__e!=null){t.__e=t.__c.base=e.__e;break}return Cn(t)}}function xn(t){(!t.__d&&(t.__d=!0)&&Re.push(t)&&!Ye.__r++||mn!==L.debounceRendering)&&((mn=L.debounceRendering)||setTimeout)(Ye)}function Ye(){for(var t;Ye.__r=Re.length;)t=Re.sort(function(n,e){return n.__v.__b-e.__v.__b}),Re=[],t.some(function(n){var e,o,r,s,l,a;n.__d&&(l=(s=(e=n).__v).__e,(a=e.__P)&&(o=[],(r=ne({},s)).__v=s.__v+1,Nn(a,s,r,e.__n,a.ownerSVGElement!==void 0,s.__h!=null?[l]:null,o,l??Se(s),s.__h),zo(o,s),s.__e!=l&&Cn(s)))})}function En(t,n,e,o,r,s,l,a,h,u){var i,d,f,c,_,v,y,g=o&&o.__k||wn,b=g.length;for(e.__k=[],i=0;i<n.length;i++)if((c=e.__k[i]=(c=n[i])==null||typeof c=="boolean"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?Ct(null,c,null,null,c):Array.isArray(c)?Ct(xt,{children:c},null,null,null):c.__b>0?Ct(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c)!=null){if(c.__=e,c.__b=e.__b+1,(f=g[i])===null||f&&c.key==f.key&&c.type===f.type)g[i]=void 0;else for(d=0;d<b;d++){if((f=g[d])&&c.key==f.key&&c.type===f.type){g[d]=void 0;break}f=null}Nn(t,c,f=f||bn,r,s,l,a,h,u),_=c.__e,(d=c.ref)&&f.ref!=d&&(y||(y=[]),f.ref&&y.push(f.ref,null,c),y.push(d,c.__c||_,c)),_!=null?(v==null&&(v=_),typeof c.type=="function"&&c.__k===f.__k?c.__d=h=Rn(c,h,t):h=$n(t,c,f,g,_,h),typeof e.type=="function"&&(e.__d=h)):h&&f.__e==h&&h.parentNode!=t&&(h=Se(f))}for(e.__e=v,i=b;i--;)g[i]!=null&&Tn(g[i],g[i]);if(y)for(i=0;i<y.length;i++)Hn(y[i],y[++i],y[++i])}function Rn(t,n,e){for(var o,r=t.__k,s=0;r&&s<r.length;s++)(o=r[s])&&(o.__=t,n=typeof o.type=="function"?Rn(o,n,e):$n(e,o,o,r,o.__e,n));return n}function $n(t,n,e,o,r,s){var l,a,h;if(n.__d!==void 0)l=n.__d,n.__d=void 0;else if(e==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(r),l=null;else{for(a=s,h=0;(a=a.nextSibling)&&h<o.length;h+=2)if(a==r)break e;t.insertBefore(r,s),l=s}return l!==void 0?l:r.nextSibling}function Io(t,n,e,o,r){var s;for(s in e)s==="children"||s==="key"||s in n||Xe(t,s,null,e[s],o);for(s in n)r&&typeof n[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||e[s]===n[s]||Xe(t,s,n[s],e[s],o)}function Sn(t,n,e){n[0]==="-"?t.setProperty(n,e):t[n]=e==null?"":typeof e!="number"||jo.test(n)?e:e+"px"}function Xe(t,n,e,o,r){var s;e:if(n==="style")if(typeof e=="string")t.style.cssText=e;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(n in o)e&&n in e||Sn(t.style,n,"");if(e)for(n in e)o&&e[n]===o[n]||Sn(t.style,n,e[n])}else if(n[0]==="o"&&n[1]==="n")s=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in t?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+s]=e,e?o||t.addEventListener(n,s?An:Mn,s):t.removeEventListener(n,s?An:Mn,s);else if(n!=="dangerouslySetInnerHTML"){if(r)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in t)try{t[n]=e??"";break e}catch{}typeof e=="function"||(e==null||e===!1&&n.indexOf("-")==-1?t.removeAttribute(n):t.setAttribute(n,e))}}function Mn(t){this.l[t.type+!1](L.event?L.event(t):t)}function An(t){this.l[t.type+!0](L.event?L.event(t):t)}function Nn(t,n,e,o,r,s,l,a,h){var u,i,d,f,c,_,v,y,g,b,x,$,I,M,H,w=n.type;if(n.constructor!==void 0)return null;e.__h!=null&&(h=e.__h,a=n.__e=e.__e,n.__h=null,s=[a]),(u=L.__b)&&u(n);try{e:if(typeof w=="function"){if(y=n.props,g=(u=w.contextType)&&o[u.__c],b=u?g?g.props.value:u.__:o,e.__c?v=(i=n.__c=e.__c).__=i.__E:("prototype"in w&&w.prototype.render?n.__c=i=new w(y,b):(n.__c=i=new $e(y,b),i.constructor=w,i.render=Uo),g&&g.sub(i),i.props=y,i.state||(i.state={}),i.context=b,i.__n=o,d=i.__d=!0,i.__h=[],i._sb=[]),i.__s==null&&(i.__s=i.state),w.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=ne({},i.__s)),ne(i.__s,w.getDerivedStateFromProps(y,i.__s))),f=i.props,c=i.state,d)w.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(w.getDerivedStateFromProps==null&&y!==f&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(y,b),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(y,i.__s,b)===!1||n.__v===e.__v){for(i.props=y,i.state=i.__s,n.__v!==e.__v&&(i.__d=!1),i.__v=n,n.__e=e.__e,n.__k=e.__k,n.__k.forEach(function(m){m&&(m.__=n)}),x=0;x<i._sb.length;x++)i.__h.push(i._sb[x]);i._sb=[],i.__h.length&&l.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(y,i.__s,b),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(f,c,_)})}if(i.context=b,i.props=y,i.__v=n,i.__P=t,$=L.__r,I=0,"prototype"in w&&w.prototype.render){for(i.state=i.__s,i.__d=!1,$&&$(n),u=i.render(i.props,i.state,i.context),M=0;M<i._sb.length;M++)i.__h.push(i._sb[M]);i._sb=[]}else do i.__d=!1,$&&$(n),u=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++I<25);i.state=i.__s,i.getChildContext!=null&&(o=ne(ne({},o),i.getChildContext())),d||i.getSnapshotBeforeUpdate==null||(_=i.getSnapshotBeforeUpdate(f,c)),H=u!=null&&u.type===xt&&u.key==null?u.props.children:u,En(t,Array.isArray(H)?H:[H],n,e,o,r,s,l,a,h),i.base=n.__e,n.__h=null,i.__h.length&&l.push(i),v&&(i.__E=i.__=null),i.__e=!1}else s==null&&n.__v===e.__v?(n.__k=e.__k,n.__e=e.__e):n.__e=Oo(e.__e,n,e,o,r,s,l,h);(u=L.diffed)&&u(n)}catch(m){n.__v=null,(h||s!=null)&&(n.__e=a,n.__h=!!h,s[s.indexOf(a)]=null),L.__e(m,n,e)}}function zo(t,n){L.__c&&L.__c(n,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(o){o.call(e)})}catch(o){L.__e(o,e.__v)}})}function Oo(t,n,e,o,r,s,l,a){var h,u,i,d=e.props,f=n.props,c=n.type,_=0;if(c==="svg"&&(r=!0),s!=null){for(;_<s.length;_++)if((h=s[_])&&"setAttribute"in h==!!c&&(c?h.localName===c:h.nodeType===3)){t=h,s[_]=null;break}}if(t==null){if(c===null)return document.createTextNode(f);t=r?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,f.is&&f),s=null,a=!1}if(c===null)d===f||a&&t.data===f||(t.data=f);else{if(s=s&&yn.call(t.childNodes),u=(d=e.props||bn).dangerouslySetInnerHTML,i=f.dangerouslySetInnerHTML,!a){if(s!=null)for(d={},_=0;_<t.attributes.length;_++)d[t.attributes[_].name]=t.attributes[_].value;(i||u)&&(i&&(u&&i.__html==u.__html||i.__html===t.innerHTML)||(t.innerHTML=i&&i.__html||""))}if(Io(t,f,d,r,a),i)n.__k=[];else if(_=n.props.children,En(t,Array.isArray(_)?_:[_],n,e,o,r&&c!=="foreignObject",s,l,s?s[0]:e.__k&&Se(e,0),a),s!=null)for(_=s.length;_--;)s[_]!=null&&kn(s[_]);a||("value"in f&&(_=f.value)!==void 0&&(_!==t.value||c==="progress"&&!_||c==="option"&&_!==d.value)&&Xe(t,"value",_,d.value,!1),"checked"in f&&(_=f.checked)!==void 0&&_!==t.checked&&Xe(t,"checked",_,d.checked,!1))}return t}function Hn(t,n,e){try{typeof t=="function"?t(n):t.current=n}catch(o){L.__e(o,e)}}function Tn(t,n,e){var o,r;if(L.unmount&&L.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Hn(o,null,n)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){L.__e(s,n)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&Tn(o[r],n,e||typeof t.type!="function");e||t.__e==null||kn(t.__e),t.__=t.__e=t.__d=void 0}function Uo(t,n,e){return this.constructor(t,e)}yn=wn.slice,L={__e:function(t,n,e,o){for(var r,s,l;n=n.__;)if((r=n.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),l=r.__d),l)return r.__E=r}catch(a){t=a}throw t}},vn=0,$e.prototype.setState=function(t,n){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ne({},this.state),typeof t=="function"&&(t=t(ne({},e),this.props)),t&&ne(e,t),t!=null&&this.__v&&(n&&this._sb.push(n),xn(this))},$e.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),xn(this))},$e.prototype.render=xt,Re=[],Ye.__r=0;var Fo=0;function Pn(t,n,e,o,r){var s,l,a={};for(l in n)l=="ref"?s=n[l]:a[l]=n[l];var h={type:t,props:a,key:e,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Fo,__source:r,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(l in s)a[l]===void 0&&(a[l]=s[l]);return L.vnode&&L.vnode(h),h}const us="";class Ln extends $e{constructor(e){super(e);R(this,ie,0);R(this,le,null);W(this,"_handleWheel",e=>{const{wheelContainer:o}=this.props,r=e.target;if(!(!r||!o)&&(typeof o=="string"&&r.closest(o)||typeof o=="object")){const s=(this.props.type==="horz"?e.deltaX:e.deltaY)*(this.props.wheelSpeed??1);this.scrollOffset(s)&&e.preventDefault()}});W(this,"_handleMouseMove",e=>{const{dragStart:o}=this.state;o&&(p(this,ie)&&cancelAnimationFrame(p(this,ie)),N(this,ie,requestAnimationFrame(()=>{const r=this.props.type==="horz"?e.clientX-o.x:e.clientY-o.y;this.scroll(o.offset+r*this.props.scrollSize/this.props.clientSize),N(this,ie,0)})),e.preventDefault())});W(this,"_handleMouseUp",()=>{this.state.dragStart&&this.setState({dragStart:!1})});W(this,"_handleMouseDown",e=>{this.state.dragStart||this.setState({dragStart:{x:e.clientX,y:e.clientY,offset:this.scrollPos}}),e.stopPropagation()});W(this,"_handleClick",e=>{const o=e.currentTarget;if(!o)return;const r=o.getBoundingClientRect(),{type:s,clientSize:l,scrollSize:a}=this.props,h=(s==="horz"?e.clientX-r.left:e.clientY-r.top)-this.barSize/2;this.scroll(h*a/l),e.preventDefault()});this.state={scrollPos:this.props.defaultScrollPos??0,dragStart:!1}}get scrollPos(){return this.props.scrollPos??this.state.scrollPos}get controlled(){return this.props.scrollPos!==void 0}get maxScrollPos(){const{scrollSize:e,clientSize:o}=this.props;return Math.max(0,e-o)}get barSize(){const{clientSize:e,scrollSize:o,size:r=12,minBarSize:s=3*r}=this.props;return Math.max(Math.round(e*e/o),s)}componentDidMount(){document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp);const{wheelContainer:e}=this.props;e&&(N(this,le,typeof e=="string"?document:e.current),p(this,le).addEventListener("wheel",this._handleWheel,{passive:!1}))}componentWillUnmount(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),p(this,le)&&p(this,le).removeEventListener("wheel",this._handleWheel)}scroll(e){return e=Math.max(0,Math.min(Math.round(e),this.maxScrollPos)),e===this.scrollPos?!1:(this.controlled?this._afterScroll(e):this.setState({scrollPos:e},this._afterScroll.bind(this,e)),!0)}scrollOffset(e){return this.scroll(this.scrollPos+e)}_afterScroll(e){const{onScroll:o}=this.props;o&&o(e,this.props.type??"vert")}render(){const{clientSize:e,type:o,size:r=12,className:s,style:l,left:a,top:h,bottom:u,right:i}=this.props,{maxScrollPos:d,scrollPos:f}=this,{dragStart:c}=this.state,_={left:a,top:h,bottom:u,right:i,...l},v={};return o==="horz"?(_.height=r,_.width=e,v.width=this.barSize,v.left=Math.round(Math.min(d,f)*(e-v.width)/d)):(_.width=r,_.height=e,v.height=this.barSize,v.top=Math.round(Math.min(d,f)*(e-v.height)/d)),Pn("div",{className:O("scrollbar",s,{"is-vert":o==="vert","is-horz":o==="horz","is-dragging":c}),style:_,onMouseDown:this._handleClick,children:Pn("div",{className:"scrollbar-bar",style:v,onMouseDown:this._handleMouseDown})})}}ie=new WeakMap,le=new WeakMap;function Dn(t,n,e){return t&&(n&&(t=Math.max(n,t)),e&&(t=Math.min(e,t))),t}function Wn({col:t,className:n,height:e,row:o,onRenderCell:r,style:s,outerStyle:l,children:a,outerClass:h,...u}){var w;const i={left:t.left,width:t.realWidth,height:e,...l},{align:d,border:f}=t.setting,c={justifyContent:d?d==="left"?"start":d==="right"?"end":d:void 0,...t.setting.cellStyle,...s},_=["dtable-cell",h,t.setting.className,{"has-border-left":f===!0||f==="left","has-border-right":f===!0||f==="right"}],v=["dtable-cell-content",n],y=[a??((w=o.data)==null?void 0:w[t.name])??""],g=r?r(y,{row:o,col:t},wt):y,b=[],x=[],$={},I={};let M="div";g==null||g.forEach(m=>{if(typeof m=="object"&&m&&!Zt(m)&&("html"in m||"className"in m||"style"in m||"attrs"in m||"children"in m||"tagName"in m)){const Le=m.outer?b:x;m.html?Le.push(C("div",{className:O("dtable-cell-html",m.className),style:m.style,dangerouslySetInnerHTML:{__html:m.html},...m.attrs??{}})):(m.style&&Object.assign(m.outer?i:c,m.style),m.className&&(m.outer?_:v).push(m.className),m.children&&Le.push(m.children),m.attrs&&Object.assign(m.outer?$:I,m.attrs)),m.tagName&&!m.outer&&(M=m.tagName)}else x.push(m)});const H=M;return C("div",{className:O(_),style:i,"data-col":t.name,...u,...$,children:[x.length>0&&C(H,{className:O(v),style:c,...I,children:x}),b]})}function Et({row:t,className:n,top:e=0,left:o=0,width:r,height:s,cols:l,CellComponent:a=Wn,onRenderCell:h}){return C("div",{className:O("dtable-cells",n),style:{top:e,left:o,width:r,height:s},children:l.map(u=>u.visible?C(a,{col:u,row:t,onRenderCell:h},u.name):null)})}function jn({row:t,className:n,top:e,height:o,fixedLeftCols:r,fixedRightCols:s,scrollCols:l,fixedLeftWidth:a,scrollWidth:h,scrollColsWidth:u,fixedRightWidth:i,scrollLeft:d,CellComponent:f=Wn,onRenderCell:c,style:_,...v}){let y=null;r!=null&&r.length&&(y=C(Et,{className:"dtable-fixed-left",cols:r,width:a,row:t,CellComponent:f,onRenderCell:c}));let g=null;l!=null&&l.length&&(g=C(Et,{className:"dtable-flexable",cols:l,left:a-d,width:Math.max(h,u),row:t,CellComponent:f,onRenderCell:c}));let b=null;s!=null&&s.length&&(b=C(Et,{className:"dtable-fixed-right",cols:s,left:a+h,width:i,row:t,CellComponent:f,onRenderCell:c}));const x={top:e,height:o,lineHeight:`${o-2}px`,..._};return C("div",{className:O("dtable-row",n),style:x,"data-id":t.id,...v,children:[y,g,b]})}function Bo({height:t,onRenderRow:n,...e}){const o={height:t,...e,row:{id:"HEADER",index:-1,top:0},className:"dtable-in-header",top:0};if(n){const r=n({props:o},wt);r&&Object.assign(o,r)}return C("div",{className:"dtable-header",style:{height:t},children:C(jn,{...o})})}function Vo({className:t,style:n,top:e,rows:o,height:r,rowHeight:s,scrollTop:l,onRenderRow:a,...h}){return n={...n,top:e,height:r},C("div",{className:O("dtable-rows",t),style:n,children:o.map(u=>{const i={className:`dtable-row-${u.index%2?"odd":"even"}`,row:u,top:u.top-l,height:s,...h},d=a==null?void 0:a({props:i,row:u},wt);return d&&Object.assign(i,d),C(jn,{...i})})})}const Je=new Map,Qe=[];function In(t,n){const{name:e}=t;if(!(n!=null&&n.override)&&Je.has(e))throw new Error(`DTable: Plugin with name ${e} already exists`);Je.set(e,t),n!=null&&n.buildIn&&!Qe.includes(e)&&Qe.push(e)}function fe(t,n){In(t,n);const e=o=>{if(!o)return t;const{defaultOptions:r,...s}=t;return{...s,defaultOptions:{...r,...o}}};return e.plugin=t,e}function zn(t){return Je.delete(t)}function Go(t){if(typeof t=="string"){const n=Je.get(t);return n||console.warn(`DTable: Cannot found plugin "${t}"`),n}if(typeof t=="function"&&"plugin"in t)return t.plugin;if(typeof t=="object")return t;console.warn("DTable: Invalid plugin",t)}function On(t,n,e){return n.forEach(o=>{var s;if(!o)return;const r=Go(o);r&&(e.has(r.name)||((s=r.plugins)!=null&&s.length&&On(t,r.plugins,e),t.push(r),e.add(r.name)))}),t}function Ko(t=[],n=!0){return n&&Qe.length&&t.unshift(...Qe),t!=null&&t.length?On([],t,new Set):[]}function Un(){return{cols:[],data:[],rowKey:"id",width:"100%",height:"auto",rowHeight:35,defaultColWidth:80,minColWidth:20,maxColWidth:9999,header:!0,footer:!1,headerHeight:0,footerHeight:0,rowHover:!0,colHover:!1,cellHover:!1,bordered:!1,striped:!0,responsive:!1,scrollbarHover:!0,horzScrollbarPos:"outside"}}const ds="";function qo(t){const{tag:n,className:e,style:o,renders:r,generateArgs:s=[],generatorThis:l,generators:a,onGenerate:h,onRenderItem:u,...i}=t,d=[e],f={...o},c=[],_=[];return r.forEach(v=>{const y=[];typeof v=="string"&&a&&a[v]&&(v=a[v]),typeof v=="function"?h?y.push(...h.call(l,v,c,...s)):y.push(...v.call(l,c,...s)??[]):y.push(v),y.forEach(g=>{g!=null&&(typeof g=="object"&&!Tt(g)&&("html"in g||"__html"in g||"className"in g||"style"in g||"attrs"in g||"children"in g)?g.html?c.push(Yt("div",{className:O(g.className),style:g.style,dangerouslySetInnerHTML:{__html:g.html},...g.attrs??{}})):g.__html?_.push(g.__html):(g.style&&Object.assign(f,g.style),g.className&&d.push(g.className),g.children&&c.push(g.children),g.attrs&&Object.assign(i,g.attrs)):c.push(g))})}),_.length&&Object.assign(i,{dangerouslySetInnerHTML:{__html:_}}),[{className:O(d),style:f,...i},c]}function Fn({tag:t="div",...n}){const[e,o]=qo(n);return Wt(t,e,...o)}let Yo=(Ze=class extends xe{constructor(e){super(e);R(this,et);R(this,tt);R(this,nt);R(this,ot);R(this,He);R(this,ct);R(this,at);R(this,ht);W(this,"ref",No());R(this,ce,0);R(this,de,void 0);R(this,oe,!1);R(this,B,void 0);R(this,se,void 0);R(this,j,[]);R(this,F,void 0);R(this,V,new Map);R(this,pe,{});R(this,Ae,void 0);R(this,Ne,[]);W(this,"updateLayout",()=>{p(this,ce)&&cancelAnimationFrame(p(this,ce)),N(this,ce,requestAnimationFrame(()=>{N(this,F,void 0),this.forceUpdate(),N(this,ce,0)}))});R(this,Y,(e,o)=>{o=o||e.type;const r=p(this,V).get(o);if(r!=null&&r.length){for(const s of r)if(s.call(this,e)===!1){e.stopPropagation(),e.preventDefault();break}}});R(this,ge,e=>{p(this,Y).call(this,e,`window_${e.type}`)});R(this,ye,e=>{p(this,Y).call(this,e,`document_${e.type}`)});R(this,st,(e,o)=>{if(this.options.onRenderRow){const r=this.options.onRenderRow.call(this,e,o);r&&Object.assign(e.props,r)}return p(this,j).forEach(r=>{if(r.onRenderRow){const s=r.onRenderRow.call(this,e,o);s&&Object.assign(e.props,s)}}),e.props});R(this,rt,(e,o)=>(this.options.onRenderHeaderRow&&(e.props=this.options.onRenderHeaderRow.call(this,e,o)),p(this,j).forEach(r=>{r.onRenderHeaderRow&&(e.props=r.onRenderHeaderRow.call(this,e,o))}),e.props));R(this,Te,(e,o,r)=>{const{row:s,col:l}=o;e[0]=this.getCellValue(s,l);const a=s.id==="HEADER"?"onRenderHeaderCell":"onRenderCell";return l.setting[a]&&(e=l.setting[a].call(this,e,o,r)),this.options[a]&&(e=this.options[a].call(this,e,o,r)),p(this,j).forEach(h=>{h[a]&&(e=h[a].call(this,e,o,r))}),e});R(this,Pe,(e,o)=>{o==="horz"?this.scroll({scrollLeft:e}):this.scroll({scrollTop:e})});R(this,it,e=>{var a,h,u,i,d;const o=this.getPointerInfo(e);if(!o)return;const{rowID:r,colName:s,cellElement:l}=o;if(r==="HEADER")l&&((a=this.options.onHeaderCellClick)==null||a.call(this,e,{colName:s,element:l}),p(this,j).forEach(f=>{var c;(c=f.onHeaderCellClick)==null||c.call(this,e,{colName:s,element:l})}));else{const{rowElement:f}=o,c=this.layout.visibleRows.find(_=>_.id===r);if(l){if(((h=this.options.onCellClick)==null?void 0:h.call(this,e,{colName:s,rowID:r,rowInfo:c,element:l,rowElement:f}))===!0)return;for(const _ of p(this,j))if(((u=_.onCellClick)==null?void 0:u.call(this,e,{colName:s,rowID:r,rowInfo:c,element:l,rowElement:f}))===!0)return}if(((i=this.options.onRowClick)==null?void 0:i.call(this,e,{rowID:r,rowInfo:c,element:f}))===!0)return;for(const _ of p(this,j))if(((d=_.onRowClick)==null?void 0:d.call(this,e,{rowID:r,rowInfo:c,element:f}))===!0)return}});R(this,lt,e=>{const o=e.key.toLowerCase();if(["pageup","pagedown","home","end"].includes(o))return!this.scroll({to:o.replace("page","")})});N(this,de,e.id??`dtable-${Wo(10)}`),this.state={scrollTop:0,scrollLeft:0,renderCount:0},N(this,se,Object.freeze(Ko(e.plugins))),p(this,se).forEach(o=>{var a;const{methods:r,data:s,state:l}=o;r&&Object.entries(r).forEach(([h,u])=>{typeof u=="function"&&Object.assign(this,{[h]:u.bind(this)})}),s&&Object.assign(p(this,pe),s.call(this)),l&&Object.assign(this.state,l.call(this)),(a=o.onCreate)==null||a.call(this,o)})}get options(){var e;return((e=p(this,F))==null?void 0:e.options)||p(this,B)||Un()}get plugins(){return p(this,j)}get layout(){return p(this,F)}get id(){return p(this,de)}get data(){return p(this,pe)}get parent(){var e;return this.props.parent??((e=this.ref.current)==null?void 0:e.parentElement)}componentWillReceiveProps(){N(this,B,void 0)}componentDidMount(){if(p(this,oe)?this.forceUpdate():z(this,He,Ht).call(this),p(this,j).forEach(e=>{let{events:o}=e;o&&(typeof o=="function"&&(o=o.call(this)),Object.entries(o).forEach(([r,s])=>{s&&this.on(r,s)}))}),this.on("click",p(this,it)),this.on("keydown",p(this,lt)),this.options.responsive){if(typeof ResizeObserver<"u"){const{parent:e}=this;if(e){const o=new ResizeObserver(this.updateLayout);o.observe(e),N(this,Ae,o)}}this.on("window_resize",this.updateLayout)}p(this,j).forEach(e=>{var o;(o=e.onMounted)==null||o.call(this)})}componentDidUpdate(){p(this,oe)?z(this,He,Ht).call(this):p(this,j).forEach(e=>{var o;(o=e.onUpdated)==null||o.call(this)})}componentWillUnmount(){var o;(o=p(this,Ae))==null||o.disconnect();const{current:e}=this.ref;if(e)for(const r of p(this,V).keys())r.startsWith("window_")?window.removeEventListener(r.replace("window_",""),p(this,ge)):r.startsWith("document_")?document.removeEventListener(r.replace("document_",""),p(this,ye)):e.removeEventListener(r,p(this,Y));p(this,j).forEach(r=>{var s;(s=r.onUnmounted)==null||s.call(this)}),p(this,se).forEach(r=>{var s;(s=r.onDestory)==null||s.call(this)}),N(this,pe,{}),p(this,V).clear()}on(e,o,r){var l;r&&(e=`${r}_${e}`);const s=p(this,V).get(e);s?s.push(o):(p(this,V).set(e,[o]),e.startsWith("window_")?window.addEventListener(e.replace("window_",""),p(this,ge)):e.startsWith("document_")?document.addEventListener(e.replace("document_",""),p(this,ye)):(l=this.ref.current)==null||l.addEventListener(e,p(this,Y)))}off(e,o,r){var a;r&&(e=`${r}_${e}`);const s=p(this,V).get(e);if(!s)return;const l=s.indexOf(o);l>=0&&s.splice(l,1),s.length||(p(this,V).delete(e),e.startsWith("window_")?window.removeEventListener(e.replace("window_",""),p(this,ge)):e.startsWith("document_")?document.removeEventListener(e.replace("document_",""),p(this,ye)):(a=this.ref.current)==null||a.removeEventListener(e,p(this,Y)))}emitCustomEvent(e,o){p(this,Y).call(this,o instanceof Event?o:new CustomEvent(e,{detail:o}),e)}scroll(e,o){const{scrollLeft:r,scrollTop:s,rowsHeightTotal:l,rowsHeight:a,rowHeight:h,colsInfo:{scrollWidth:u,scrollColsWidth:i}}=this.layout,{to:d}=e;let{scrollLeft:f,scrollTop:c}=e;if(d==="up"||d==="down")c=s+(d==="down"?1:-1)*Math.floor(a/h)*h;else if(d==="left"||d==="right")f=r+(d==="right"?1:-1)*u;else if(d==="home")c=0;else if(d==="end")c=l-a;else if(d==="left-begin")f=0;else if(d==="right-end")f=i-u;else{const{offsetLeft:v,offsetTop:y}=e;typeof v=="number"&&(f=r+v),typeof y=="number"&&(f=s+y)}const _={};return typeof f=="number"&&(f=Math.max(0,Math.min(f,i-u)),f!==r&&(_.scrollLeft=f)),typeof c=="number"&&(c=Math.max(0,Math.min(c,l-a)),c!==s&&(_.scrollTop=c)),Object.keys(_).length?(this.setState(_,()=>{var v;(v=this.options.onScroll)==null||v.call(this,_),o==null||o.call(this,!0)}),!0):(o==null||o.call(this,!1),!1)}getColInfo(e){if(e===void 0)return;if(typeof e=="object")return e;const{colsMap:o,colsList:r}=this.layout;return typeof e=="number"?r[e]:o[e]}getRowInfo(e){if(e===void 0)return;if(typeof e=="object")return e;if(e===-1||e==="HEADER")return{id:"HEADER",index:-1,top:0};const{rows:o,rowsMap:r}=this.layout;return typeof e=="number"?o[e]:r[e]}getCellValue(e,o){var h;const r=typeof e=="object"?e:this.getRowInfo(e);if(!r)return;const s=typeof o=="object"?o:this.getColInfo(o);if(!s)return;let l=r.id==="HEADER"?s.setting.title:(h=r.data)==null?void 0:h[s.name];const{cellValueGetter:a}=this.options;return a&&(l=a.call(this,r,s,l)),l}getRowInfoByIndex(e){return this.layout.rows[e]}update(e={},o){if(!p(this,B))return;typeof e=="function"&&(o=e,e={});const{dirtyType:r,state:s}=e;if(r==="layout")N(this,F,void 0);else if(r==="options"){if(N(this,B,void 0),!p(this,F))return;N(this,F,void 0)}this.setState(s??(l=>({renderCount:l.renderCount+1})),o)}getPointerInfo(e){const o=e.target;if(!o||o.closest(".no-cell-event"))return;const r=o.closest(".dtable-cell");if(!r)return;const s=r.closest(".dtable-row");if(!s)return;const l=r==null?void 0:r.getAttribute("data-col"),a=s==null?void 0:s.getAttribute("data-id");if(!(typeof l!="string"||typeof a!="string"))return{cellElement:r,rowElement:s,colName:l,rowID:a,target:o}}i18n(e,o,r){return ke(p(this,Ne),e,o,r,this.options.lang)??`{i18n:${e}}`}render(){const e=z(this,ht,po).call(this),{className:o,rowHover:r,colHover:s,cellHover:l,bordered:a,striped:h,scrollbarHover:u}=this.options,i={width:e==null?void 0:e.width,height:e==null?void 0:e.height},d=["dtable",o,{"dtable-hover-row":r,"dtable-hover-col":s,"dtable-hover-cell":l,"dtable-bordered":a,"dtable-striped":h,"dtable-scrolled-down":((e==null?void 0:e.scrollTop)??0)>0,"scrollbar-hover":u}],f=[];return e&&p(this,j).forEach(c=>{var v;const _=(v=c.onRender)==null?void 0:v.call(this,e);_&&(_.style&&Object.assign(i,_.style),_.className&&d.push(_.className),_.children&&f.push(_.children))}),C("div",{id:p(this,de),className:O(d),style:i,ref:this.ref,tabIndex:-1,children:[e&&z(this,et,co).call(this,e),e&&z(this,tt,ao).call(this,e),e&&z(this,nt,ho).call(this,e),e&&z(this,ot,fo).call(this,e)]})}},ce=new WeakMap,de=new WeakMap,oe=new WeakMap,B=new WeakMap,se=new WeakMap,j=new WeakMap,F=new WeakMap,V=new WeakMap,pe=new WeakMap,Ae=new WeakMap,Ne=new WeakMap,Y=new WeakMap,ge=new WeakMap,ye=new WeakMap,et=new WeakSet,co=function(e){const{header:o,colsInfo:r,headerHeight:s,scrollLeft:l}=e;if(!o)return null;if(o===!0)return C(Bo,{scrollLeft:l,height:s,onRenderCell:p(this,Te),onRenderRow:p(this,rt),...r});const a=Array.isArray(o)?o:[o];return C(Fn,{className:"dtable-header",style:{height:s},renders:a,generateArgs:[e],generatorThis:this})},tt=new WeakSet,ao=function(e){const{headerHeight:o,rowsHeight:r,visibleRows:s,rowHeight:l,colsInfo:a,scrollLeft:h,scrollTop:u}=e;return C(Vo,{top:o,height:r,rows:s,rowHeight:l,scrollLeft:h,scrollTop:u,onRenderCell:p(this,Te),onRenderRow:p(this,st),...a})},nt=new WeakSet,ho=function(e){const{footer:o}=e;if(!o)return null;const r=typeof o=="function"?o.call(this,e):Array.isArray(o)?o:[o];return C(Fn,{className:"dtable-footer",style:{height:e.footerHeight,top:e.rowsHeight+e.headerHeight},renders:r,generateArgs:[e],generatorThis:this,generators:e.footerGenerators})},ot=new WeakSet,fo=function(e){const o=[],{scrollLeft:r,colsInfo:s,scrollTop:l,rowsHeight:a,rowsHeightTotal:h,footerHeight:u}=e,{scrollColsWidth:i,scrollWidth:d}=s,{scrollbarSize:f=12,horzScrollbarPos:c}=this.options;return i>d&&o.push(C(Ln,{type:"horz",scrollPos:r,scrollSize:i,clientSize:d,onScroll:p(this,Pe),left:s.fixedLeftWidth,bottom:(c==="inside"?0:-f)+u,size:f,wheelContainer:this.ref},"horz")),h>a&&o.push(C(Ln,{type:"vert",scrollPos:l,scrollSize:h,clientSize:a,onScroll:p(this,Pe),right:0,size:f,top:e.headerHeight,wheelContainer:this.ref},"vert")),o.length?o:null},He=new WeakSet,Ht=function(){var e;N(this,oe,!1),(e=this.options.afterRender)==null||e.call(this),p(this,j).forEach(o=>{var r;return(r=o.afterRender)==null?void 0:r.call(this)})},st=new WeakMap,rt=new WeakMap,Te=new WeakMap,Pe=new WeakMap,it=new WeakMap,lt=new WeakMap,ct=new WeakSet,_o=function(){if(p(this,B))return!1;const o={...Un(),...p(this,se).reduce((r,s)=>{const{defaultOptions:l}=s;return l&&Object.assign(r,l),r},{}),...this.props};return N(this,B,o),N(this,j,p(this,se).reduce((r,s)=>{const{when:l,options:a}=s;return(!l||l(o))&&(r.push(s),a&&Object.assign(o,typeof a=="function"?a.call(this,o):a)),r},[])),N(this,Ne,[this.options.i18n,...this.plugins.map(r=>r.i18n)].filter(Boolean)),!0},at=new WeakSet,uo=function(){var no,oo;const{plugins:e}=this;let o=p(this,B);const r={flex:C("div",{style:"flex:auto"}),divider:C("div",{style:"width:1px;margin:var(--space);background:var(--color-border);height:50%"})};e.forEach(E=>{var J;const D=(J=E.beforeLayout)==null?void 0:J.call(this,o);D&&(o={...o,...D}),Object.assign(r,E.footer)});const{defaultColWidth:s,minColWidth:l,maxColWidth:a}=o,h=[],u=[],i=[],d={},f=[],c=[];let _=0,v=0,y=0;o.cols.forEach(E=>{if(E.hidden)return;const{name:D,type:J="",fixed:Q=!1,flex:he=!1,width:We=s,minWidth:je=l,maxWidth:At=a,...hs}=E,T={name:D,type:J,setting:{name:D,type:J,fixed:Q,flex:he,width:We,minWidth:je,maxWidth:At,...hs},flex:Q?0:he===!0?1:typeof he=="number"?he:0,left:0,width:Dn(We,je,At),realWidth:0,visible:!0,index:f.length};e.forEach(so=>{var ro,io;const ft=(ro=so.colTypes)==null?void 0:ro[J];if(ft){const lo=typeof ft=="function"?ft(T):ft;lo&&Object.assign(T.setting,lo)}(io=so.onAddCol)==null||io.call(this,T)}),T.width=Dn(T.setting.width??T.width,T.setting.minWidth??je,T.setting.maxWidth??At),T.realWidth=T.realWidth||T.width,Q==="left"?(T.left=_,_+=T.width,h.push(T)):Q==="right"?(T.left=v,v+=T.width,u.push(T)):(T.left=y,y+=T.width,i.push(T)),T.flex&&c.push(T),f.push(T),d[T.name]=T});let g=o.width,b=0;const x=_+y+v;if(typeof g=="function"&&(g=g.call(this,x)),g==="auto")b=x;else if(g==="100%"){const{parent:E}=this;if(E)b=E.clientWidth;else{b=0,N(this,oe,!0);return}}else b=g??0;const{data:$,rowKey:I="id",rowHeight:M}=o,H=[],w=(E,D,J)=>{var he,We;const Q={data:J??{[I]:E},id:E,index:H.length,top:0};if(J||(Q.lazy=!0),H.push(Q),((he=o.onAddRow)==null?void 0:he.call(this,Q,D))!==!1){for(const je of e)if(((We=je.onAddRow)==null?void 0:We.call(this,Q,D))===!1)return}};if(typeof $=="number")for(let E=0;E<$;E++)w(`${E}`,E);else Array.isArray($)&&$.forEach((E,D)=>{typeof E=="object"?w(`${E[I]??""}`,D,E):w(`${E??""}`,D)});let m=H;const Le={};if(o.onAddRows){const E=o.onAddRows.call(this,m);E&&(m=E)}for(const E of e){const D=(no=E.onAddRows)==null?void 0:no.call(this,m);D&&(m=D)}m.forEach((E,D)=>{Le[E.id]=E,E.index=D,E.top=E.index*M});const{header:Qn,footer:Zn}=o,$t=Qn?o.headerHeight||M:0,St=Zn?o.footerHeight||M:0;let X=o.height,ae=0;const eo=m.length*M,Mt=$t+St+eo;if(typeof X=="function"&&(X=X.call(this,Mt)),X==="auto")ae=Mt;else if(typeof X=="object")ae=Math.min(X.max,Math.max(X.min,Mt));else if(X==="100%"){const{parent:E}=this;if(E)ae=E.clientHeight;else{ae=0,N(this,oe,!0);return}}else ae=X;const cs=ae-$t-St,as=b-_-v,De={options:o,allRows:H,width:b,height:ae,rows:m,rowsMap:Le,rowHeight:M,rowsHeight:cs,rowsHeightTotal:eo,header:Qn,footer:Zn,footerGenerators:r,headerHeight:$t,footerHeight:St,colsMap:d,colsList:f,flexCols:c,colsInfo:{fixedLeftCols:h,fixedRightCols:u,scrollCols:i,fixedLeftWidth:_,scrollWidth:as,scrollColsWidth:y,fixedRightWidth:v}},to=(oo=o.onLayout)==null?void 0:oo.call(this,De);to&&Object.assign(De,to),e.forEach(E=>{if(E.onLayout){const D=E.onLayout.call(this,De);D&&Object.assign(De,D)}}),N(this,F,De)},ht=new WeakSet,po=function(){(z(this,ct,_o).call(this)||!p(this,F))&&z(this,at,uo).call(this);const{layout:e}=this;if(!e)return;let{scrollLeft:o}=this.state;const{flexCols:r,colsInfo:{scrollCols:s,scrollWidth:l,scrollColsWidth:a}}=e;if(r.length){const x=l-a;if(x>0){const $=r.reduce((M,H)=>M+H.flex,0);let I=0;r.forEach(M=>{const H=Math.min(x-I,Math.ceil(x*(M.flex/$)));M.realWidth=H+M.width,I+=M.realWidth})}else r.forEach($=>{$.realWidth=$.width})}o=Math.min(Math.max(0,a-l),o);let h=0;s.forEach(x=>{x.left=h,h+=x.realWidth,x.visible=x.left+x.realWidth>=o&&x.left<=o+l});const{rowsHeightTotal:u,rowsHeight:i,rows:d,rowHeight:f}=e,c=Math.min(Math.max(0,u-i),this.state.scrollTop),_=Math.floor(c/f),v=c+i,y=Math.min(d.length,Math.ceil(v/f)),g=[],{rowDataGetter:b}=this.options;for(let x=_;x<y;x++){const $=d[x];$.lazy&&b&&($.data=b([$.id])[0],$.lazy=!1),g.push($)}return e.visibleRows=g,e.scrollTop=c,e.scrollLeft=o,e},W(Ze,"addPlugin",In),W(Ze,"removePlugin",zn),Ze);function Bn(t,n){n!==void 0?t.data.hoverCol=n:n=t.data.hoverCol;const{current:e}=t.ref;if(!e)return;const o="dtable-col-hover";e.querySelectorAll(`.${o}`).forEach(r=>r.classList.remove(o)),typeof n=="string"&&n.length&&e.querySelectorAll(`.dtable-cell[data-col="${n}"]`).forEach(r=>r.classList.add(o))}const Xo=fe({name:"col-hover",defaultOptions:{colHover:!1},when:t=>!!t.colHover,events:{mouseover(t){var r;const{colHover:n}=this.options;if(!n)return;const e=(r=t.target)==null?void 0:r.closest(".dtable-cell");if(!e||n==="header"&&!e.closest(".dtable-header"))return;const o=(e==null?void 0:e.getAttribute("data-col"))??!1;Bn(this,o)},mouseleave(){Bn(this,!1)}}},{buildIn:!0}),gs="";function Jo(t,n){var l,a;typeof t=="boolean"&&(n=t,t=void 0);const e=this.state.checkedRows,o={},{canRowCheckable:r}=this.options,s=(h,u)=>{r&&!r.call(this,h)||!!e[h]===u||(u?e[h]=!0:delete e[h],o[h]=u)};if(t===void 0?(n===void 0&&(n=!Vn.call(this)),(l=this.layout)==null||l.allRows.forEach(({id:h})=>{s(h,!!n)})):(Array.isArray(t)||(t=[t]),t.forEach(h=>{s(h,n??!e[h])})),Object.keys(o).length){const h=(a=this.options.beforeCheckRows)==null?void 0:a.call(this,t,o,e);h&&Object.keys(h).forEach(u=>{h[u]?e[u]=!0:delete e[u]}),this.setState({checkedRows:{...e}},()=>{var u;(u=this.options.onCheckChange)==null||u.call(this,o)})}return o}function Qo(t){return this.state.checkedRows[t]??!1}function Vn(){var e,o;const t=this.getChecks().length,{canRowCheckable:n}=this.options;return n?t===((e=this.layout)==null?void 0:e.allRows.reduce((r,s)=>r+(n.call(this,s.id)?1:0),0)):t===((o=this.layout)==null?void 0:o.allRows.length)}function Zo(){return Object.keys(this.state.checkedRows)}const es=fe({name:"checkable",defaultOptions:{checkable:!0},when:t=>!!t.checkable,state(){return{checkedRows:{}}},methods:{toggleCheckRows:Jo,isRowChecked:Qo,isAllRowChecked:Vn,getChecks:Zo},i18n:{zh_cn:{checkedCountInfo:" {selected} ",totalCountInfo:" {total} "},en:{checkedCountInfo:"Selected {selected} items",totalCountInfo:"Total {total} items"}},footer:{checkbox(){const t=this.isAllRowChecked();return[C("div",{style:{padding:"0 calc(3 * var(--space))",display:"flex",alignItems:"center"},onClick:()=>this.toggleCheckRows(),children:C("input",{type:"checkbox",checked:t})})]},checkedInfo(t,n){const e=this.getChecks().length,o=[];return e&&o.push(this.i18n("checkedCountInfo",{selected:e})),o.push(this.i18n("totalCountInfo",{total:n.allRows.length})),[C("div",{children:o.join(", ")})]}},onRenderCell(t,{row:n,col:e}){var a;const{id:o}=n,{canRowCheckable:r}=this.options;if(r&&!r.call(this,o))return t;const{checkbox:s}=e.setting;if(typeof s=="function"?s.call(this,o):s){const h=this.isRowChecked(o),u=((a=this.options.checkboxRender)==null?void 0:a.call(this,h,o))??C("input",{type:"checkbox",checked:h});t.unshift(u),t.push({className:"has-checkbox"})}return t},onRenderHeaderCell(t,{row:n,col:e}){var l;const{id:o}=n,{checkbox:r}=e.setting;if(typeof r=="function"?r.call(this,o):r){const a=this.isAllRowChecked(),h=((l=this.options.checkboxRender)==null?void 0:l.call(this,a,o))??C("input",{type:"checkbox",checked:a});t.unshift(h),t.push({className:"has-checkbox"})}return t},onRenderRow({props:t,row:n}){if(this.isRowChecked(n.id))return{className:O(t.className,"is-checked")}},onHeaderCellClick(t){const n=t.target;if(!n)return;const e=n.closest('input[type="checkbox"],.dtable-checkbox');e&&(this.toggleCheckRows(e.checked),t.stopPropagation())},onRowClick(t,{rowID:n}){const e=t.target;if(!e)return;(e.closest('input[type="checkbox"],.dtable-checkbox')||this.options.checkOnClickRow)&&this.toggleCheckRows(n)}}),vs="",ms="";var Gn=(t=>(t.unknown="",t.collapsed="collapsed",t.expanded="expanded",t.hidden="hidden",t.normal="normal",t))(Gn||{});function Rt(t){const n=this.data.nestedMap.get(t);if(!n||n.state!=="")return n??{state:"normal",level:-1};if(!n.parent&&!n.children)return n.state="normal",n;const e=this.state.collapsedRows,o=n.children&&e&&e[t];let r=!1,{parent:s}=n;for(;s;){const l=Rt.call(this,s);if(l.state!=="expanded"){r=!0;break}s=l.parent}return n.state=r?"hidden":o?"collapsed":n.children?"expanded":"normal",n.level=n.parent?Rt.call(this,n.parent).level+1:0,n}function ts(t,n){let e=this.state.collapsedRows??{};const{nestedMap:o}=this.data;if(t==="HEADER")if(n===void 0&&(n=!Kn.call(this)),n){const r=o.entries();for(const[s,l]of r)l.state==="expanded"&&(e[s]=!0)}else e={};else{const r=Array.isArray(t)?t:[t];n===void 0&&(n=!e[r[0]]),r.forEach(s=>{const l=o.get(s);n&&(l!=null&&l.children)?e[s]=!0:delete e[s]})}this.update({dirtyType:"layout",state:{collapsedRows:{...e}}},()=>{var r;(r=this.options.onNestedChange)==null||r.call(this)})}function Kn(){const t=this.data.nestedMap.values();for(const n of t)if(n.state==="expanded")return!1;return!0}function qn(t,n=0,e,o=0){var r;e||(e=[...t.keys()]);for(const s of e){const l=t.get(s);l&&(l.level===o&&(l.order=n++),(r=l.children)!=null&&r.length&&(n=qn(t,n,l.children,o+1)))}return n}function Yn(t,n,e,o){const r=t.getNestedRowInfo(n);return!r||r.state===""||!r.children||r.children.forEach(s=>{o[s]=e,Yn(t,s,e,o)}),r}function Xn(t,n,e,o,r){var a;const s=t.getNestedRowInfo(n);if(!s||s.state==="")return;((a=s.children)==null?void 0:a.every(h=>{const u=!!(o[h]!==void 0?o[h]:r[h]);return e===u}))&&(o[n]=e),s.parent&&Xn(t,s.parent,e,o,r)}const ns=fe({name:"nested",defaultOptions:{nested:!0,nestedParentKey:"parent",asParentKey:"asParent",nestedIndent:20,canSortTo(t,n){const{nestedMap:e}=this.data,o=e.get(t.id),r=e.get(n.id);return(o==null?void 0:o.parent)===(r==null?void 0:r.parent)},beforeCheckRows(t,n,e){if(!this.options.checkable||!(t!=null&&t.length))return;const o={};return Object.entries(n).forEach(([r,s])=>{const l=Yn(this,r,s,o);l!=null&&l.parent&&Xn(this,l.parent,s,o,e)}),o}},when:t=>!!t.nested,data(){return{nestedMap:new Map}},methods:{toggleRow:ts,isAllCollapsed:Kn,getNestedRowInfo:Rt},beforeLayout(){this.data.nestedMap.clear()},onAddRow(t){var r,s;const{nestedMap:n}=this.data,e=(r=t.data)==null?void 0:r[this.options.nestedParentKey??"parent"],o=n.get(t.id)??{state:"",level:0};if(o.parent=e,(s=t.data)!=null&&s[this.options.asParentKey??"asParent"]&&(o.children=[]),n.set(t.id,o),e){let l=n.get(e);l||(l={state:"",level:0},n.set(e,l)),l.children||(l.children=[]),l.children.push(t.id)}},onAddRows(t){return t=t.filter(n=>this.getNestedRowInfo(n.id).state!=="hidden"),qn(this.data.nestedMap),t.sort((n,e)=>{const o=this.getNestedRowInfo(n.id),r=this.getNestedRowInfo(e.id),s=(o.order??0)-(r.order??0);return s===0?n.index-e.index:s}),t},onRenderCell(t,{col:n,row:e}){var a;const{id:o,data:r}=e,{nestedToggle:s}=n.setting,l=this.getNestedRowInfo(o);if(s&&(l.children||l.parent)&&t.unshift(((a=this.options.onRenderNestedToggle)==null?void 0:a.call(this,l,o,n,r))??C("a",{role:"button",className:`dtable-nested-toggle state${l.children?"":" is-no-child"}`,children:C("span",{className:"toggle-icon"})})),l.level){let{nestedIndent:h=s}=n.setting;h&&(h===!0&&(h=this.options.nestedIndent??12),t.unshift(C("div",{className:"dtable-nested-indent",style:{width:h*l.level+"px"}})))}return t},onRenderHeaderCell(t,{row:n,col:e}){var r;const{id:o}=n;return e.setting.nestedToggle&&t.unshift(((r=this.options.onRenderNestedToggle)==null?void 0:r.call(this,void 0,o,e,void 0))??C("a",{type:"button",className:"dtable-nested-toggle state",children:C("span",{className:"toggle-icon"})})),t},onRenderRow({props:t,row:n}){const e=this.getNestedRowInfo(n.id);return{className:O(t.className,`is-${e.state}`),"data-parent":e.parent}},onRenderHeaderRow({props:t}){return t.className=O(t.className,`is-${this.isAllCollapsed()?"collapsed":"expanded"}`),t},onHeaderCellClick(t){const n=t.target;if(!(!n||!n.closest(".dtable-nested-toggle")))return this.toggleRow("HEADER"),!0},onCellClick(t,{rowID:n}){const e=t.target;if(!(!e||!this.getNestedRowInfo(n).children||!e.closest(".dtable-nested-toggle")))return this.toggleRow(n),!0}}),os=t=>t?(t instanceof Date||(typeof t=="string"&&(t=t.trim(),/^\d+$/.test(t)&&(t=Number.parseInt(t,10))),typeof t=="number"&&t<1e10&&(t*=1e3),t=new Date(t)),t):new Date,ss=(t,n="yyyy-MM-dd hh:mm")=>{t=os(t);const e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"H+":t.getHours()%12,"m+":t.getMinutes(),"s+":t.getSeconds(),"S+":t.getMilliseconds()};return/(y+)/i.test(n)&&(n=n.replace(RegExp.$1,`${t.getFullYear()}`.substring(4-RegExp.$1.length))),Object.keys(e).forEach(o=>{if(new RegExp(`(${o})`).test(n)){const r=`${e[o]}`;n=n.replace(RegExp.$1,RegExp.$1.length===1?r:`00${r}`.substring(r.length))}}),n},ws="",rs=fe({name:"rich",colTypes:{html:{onRenderCell(t){return t[0]={html:t[0]},t}},link:{onRenderCell(t,{col:n,row:e}){const{linkTemplate:o="",linkProps:r}=n.setting,s=we(o,e.data);return t[0]=C("a",{href:s,...r,children:t[0]}),t}},avatar:{onRenderCell(t,{col:n,row:e}){const{data:o}=e,{avatarWithName:r,avatarClass:s="size-xs circle",avatarKey:l=`${n.name}Avatar`}=n.setting,a=C("div",{className:`avatar ${s} flex-none`,children:C("img",{src:o?o[l]:""})});return r?t.unshift(a):t[0]=a,t}},circleProgress:{align:"center",onRenderCell(t,{col:n}){const{circleSize:e=24,circleBorderSize:o=1,circleBgColor:r="var(--color-border)",circleColor:s="var(--color-success-500)"}=n.setting,l=(e-o)/2,a=e/2,h=t[0];return t[0]=C("svg",{width:e,height:e,children:[C("circle",{cx:a,cy:a,r:l,"stroke-width":o,stroke:r,fill:"transparent"}),C("circle",{cx:a,cy:a,r:l,"stroke-width":o,stroke:s,fill:"transparent","stroke-linecap":"round","stroke-dasharray":Math.PI*l*2,"stroke-dashoffset":Math.PI*l*2*(100-h)/100,style:{transformOrigin:"center",transform:"rotate(-90deg)"}}),C("text",{x:a,y:a+o,"dominant-baseline":"middle","text-anchor":"middle",style:{fontSize:`${l}px`},children:Math.round(h)})]}),t}},actionButtons:{onRenderCell(t,{col:n,row:e}){var a;const o=(a=e.data)==null?void 0:a[n.name];if(!o)return t;const{actionBtnTemplate:r='<button type="button" data-action="{action}" title="{title}" class="{className}"><i class="icon icon-{icon}"></i></button>',actionBtnData:s={},actionBtnClass:l="btn text-primary square size-sm ghost"}=n.setting;return[{html:o.map(h=>{typeof h=="string"&&(h={action:h});const u=s[h.action];return u&&(h={className:l,...u,...h}),we(r,h)}).join(" ")}]}},format:{onRenderCell(t,{col:n}){let{format:e}=n.setting;if(!e)return t;typeof e=="string"&&(e={type:"text",format:e});const{format:o,type:r}=e,s=t[0];return typeof o=="function"?t[0]=r==="html"?{html:o(s)}:o(s):r==="datetime"?t[0]=ss(s,o):r==="html"?t[0]={html:we(o,s)}:t[0]=we(o,s),t}}}},{buildIn:!0}),is=fe({name:"sort-type",onRenderHeaderCell(t,{col:n}){const{sortType:e}=n.setting;if(e){const{sortLink:o=this.options.sortLink,sortAttrs:r}=n.setting,s=e===!0?"none":e;if(t.push(C("div",{className:`dtable-sort dtable-sort-${s}`}),{outer:!0,attrs:{"data-sort":s}}),o){const l=typeof o=="function"?o.call(this,n,s):o;t.push({tagName:"a",attrs:{href:l,...r}})}}return t}},{buildIn:!0}),ls=Object.freeze(Object.defineProperty({__proto__:null,NestedRowState:Gn,checkable:es,colHover:Xo,nested:ns,rich:rs,sortType:is},Symbol.toStringTag,{value:"Module"}));class _e extends Jt{}W(_e,"NAME","dtable"),W(_e,"Component",Yo),W(_e,"definePlugin",fe),W(_e,"removePlugin",zn),W(_e,"plugins",ls),A.DTable=_e,Object.defineProperty(A,Symbol.toStringTag,{value:"Module"})});
